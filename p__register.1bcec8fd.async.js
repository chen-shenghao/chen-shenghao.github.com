"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[853],{90194:function(M,E,u){u.d(E,{Z:function(){return p}});var v=u(15009),n=u.n(v),b=u(99289),s=u.n(b),a=u(61534),m={register:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/registration",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},getCode:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/sms/send",{method:"POST",data:{phone:e,type:"CLIENT_REGISTRATION"}}));case 1:case"end":return r.stop()}},l)}))()},login:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/login",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},currentUser:function(){return s()(n()().mark(function e(){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,a.request)("/client/getUserInfo"));case 1:case"end":return i.stop()}},e)}))()},logout:function(){return s()(n()().mark(function e(){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,a.request)("/client/logout",{method:"POST"}));case 1:case"end":return i.stop()}},e)}))()},changePwd:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/updatePwd",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},updateUserInfo:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/updateUserInfo",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()}},f={getUserLeague:function(){return s()(n()().mark(function e(){return n()().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",(0,a.request)("/client/core/league/getUserLeague"));case 1:case"end":return i.stop()}},e)}))()},saveOrUpdate:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/core/league/saveOrUpdate",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()}},t=u(8847),P=u(86633),o=u(66479),g={config:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/core/sheepTypeConfig/config/".concat(e.type)));case 1:case"end":return r.stop()}},l)}))()},get:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/core/sheepTypeConfig/get/".concat(e.id),{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},listPage:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/core/sheepTypeConfig/listPage",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},list:function(e){return s()(n()().mark(function l(){return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,a.request)("/client/core/sheepTypeConfig/list",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()}},d={img:function(e){return s()(n()().mark(function l(){var i;return n()().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(0,a.request)("/oss/img",{method:"POST",data:{file:e},headers:{"Content-Type":"multipart/form-data"}});case 2:return i=h.sent,h.abrupt("return",{url:i});case 4:case"end":return h.stop()}},l)}))()}},c={auth:m,league:f,sheepFoster:P.vq,sheepBuy:t.yo,sheepSlaughter:o.zL,sheepTypeConfig:g,utils:d},p=c},8847:function(M,E,u){u.d(E,{kj:function(){return o},yo:function(){return P}});var v=u(9783),n=u.n(v),b=u(15009),s=u.n(b),a=u(99289),m=u.n(a),f=u(61534),t,P={analogPayment:function(c){return m()(s()().mark(function p(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/client/core/sheepBuy/analogPayment",{params:c}));case 1:case"end":return e.stop()}},p)}))()},getMyDetail:function(c){return m()(s()().mark(function p(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/client/core/sheepBuy/buy",{method:"POST",data:c}));case 1:case"end":return e.stop()}},p)}))()},listByUserPage:function(c){return m()(s()().mark(function p(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/client/core/sheepBuy/listByUserPage",{params:c}));case 1:case"end":return e.stop()}},p)}))()}},o;(function(d){d.\u7B49\u5F85\u652F\u4ED8="WAITING_PAYMENT",d.\u7B49\u5F85\u786E\u8BA4="WAITING_CONFIRMATION",d.\u5DF2\u786E\u8BA4="CONFIRMED",d.\u5DF2\u53D6\u6D88="CANCELLED"})(o||(o={}));var g=(t={},n()(t,o.\u7B49\u5F85\u652F\u4ED8,"\u7B49\u5F85\u652F\u4ED8"),n()(t,o.\u7B49\u5F85\u786E\u8BA4,"\u7B49\u5F85\u786E\u8BA4"),n()(t,o.\u5DF2\u786E\u8BA4,"\u5DF2\u786E\u8BA4"),n()(t,o.\u5DF2\u53D6\u6D88,"\u5DF2\u53D6\u6D88"),t)},86633:function(M,E,u){u.d(E,{DY:function(){return g},Gb:function(){return o},_p:function(){return d},vq:function(){return P}});var v=u(9783),n=u.n(v),b=u(15009),s=u.n(b),a=u(99289),m=u.n(a),f=u(61534),t,P={statisticsMyNum:function(){return m()(s()().mark(function p(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/client/core/sheepFoster/statisticsMyNum",{}));case 1:case"end":return e.stop()}},p)}))()},getMyDetail:function(p){return m()(s()().mark(function _(){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/client/core/sheepFoster/getMyDetail/".concat(p.fosterNo),{params:p}));case 1:case"end":return l.stop()}},_)}))()},listMyPage:function(p){return m()(s()().mark(function _(){return s()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,f.request)("/client/core/sheepFoster/listMyPage",{params:p}));case 1:case"end":return l.stop()}},_)}))()}},o;(function(c){c.\u80B2\u80A5\u7F8A="FATTENING_SHEEP",c.\u7E41\u80B2\u6BCD\u7F8A="BREEDING_EWES",c.\u7F8A\u7F94="LAMB"})(o||(o={}));var g=(t={},n()(t,o.\u80B2\u80A5\u7F8A,"\u80B2\u80A5\u7F8A"),n()(t,o.\u7E41\u80B2\u6BCD\u7F8A,"\u7E41\u80B2\u6BCD\u7F8A"),n()(t,o.\u7F8A\u7F94,"\u7F8A\u7F94"),t),d;(function(c){c.\u5728\u517B="IN_RAISING",c.\u5DF2\u51FA\u552E="SOLD"})(d||(d={}))},66479:function(M,E,u){u.d(E,{H3:function(){return o},zL:function(){return P}});var v=u(9783),n=u.n(v),b=u(15009),s=u.n(b),a=u(99289),m=u.n(a),f=u(61534),t,P={sell:function(c){return m()(s()().mark(function p(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/client/core/sheepSlaughter/sell",{method:"POST",data:c}));case 1:case"end":return e.stop()}},p)}))()},listMyPage:function(c){return m()(s()().mark(function p(){return s()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,f.request)("/client/core/sheepSlaughter/listMyPage",{params:c}));case 1:case"end":return e.stop()}},p)}))()}},o;(function(d){d.\u7F8A\u8089="MUTTON",d.\u94B1="MONEY"})(o||(o={}));var g=(t={},n()(t,o.\u7F8A\u8089,"\u7F8A\u8089"),n()(t,o.\u94B1,"\u94B1"),t)},20547:function(M,E,u){u.r(E),u.d(E,{default:function(){return P}});var v=u(5574),n=u.n(v),b=u(90194),s=u(19515),a=u(17141),m=u(62435),f=u(61534),t=u(86074);function P(){var o=a.l0.useForm(),g=n()(o,1),d=g[0],c=(0,m.useState)(-1),p=n()(c,2),_=p[0],e=p[1],l=(0,m.useMemo)(function(){return _===-1?"\u83B7\u53D6\u9A8C\u8BC1\u7801":_===-2?"\u53D1\u9001\u4E2D...":_===0?"\u91CD\u65B0\u53D1\u9001":"".concat(_,"s")},[_]),i=(0,m.useCallback)(function(){d.validateFields(["phone"]).then(function(h){var O=h.phone;e(-2),b.Z.auth.getCode(O).then(function(D){e(60),a.FN.show({icon:"success",content:"\u53D1\u9001\u6210\u529F"}),console.log(D)}).catch(function(){e(-1)})})},[d]);(0,m.useEffect)(function(){if(!(_<=0)){var h=setInterval(function(){e(_-1),_<=0&&clearInterval(h)},1e3);return function(){return h&&clearInterval(h)}}},[_]);var r=(0,m.useCallback)(function(h){delete h.checkpwd,b.Z.auth.register(h).then(function(){a.FN.show({icon:"sucsess",content:"\u6CE8\u518C\u6210\u529F"}),f.history.back()}).catch(function(){return null})},[]);return(0,t.jsxs)("div",{style:{paddingTop:100},children:[(0,t.jsx)(f.Helmet,{children:(0,t.jsx)("title",{children:"\u6CE8\u518C"})}),(0,t.jsxs)("main",{children:[(0,t.jsx)(a.Qm,{children:(0,t.jsx)("h1",{children:"\u6CE8\u518C"})}),(0,t.jsx)("section",{children:(0,t.jsxs)(a.l0,{form:d,layout:"horizontal",footer:(0,t.jsx)(a.zx,{block:!0,type:"submit",color:"primary",size:"large",children:"\u6CE8\u518C"}),onFinish:r,mode:"card",children:[(0,t.jsx)(a.l0.Item,{name:"phone",label:"\u624B\u673A\u53F7",rules:[{required:!0,message:"\u624B\u673A\u53F7\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:s.j.phone,message:"\u624B\u673A\u53F7\u683C\u5F0F\u4E0D\u6B63\u786E"}],children:(0,t.jsx)(a.II,{placeholder:"\u8BF7\u8F93\u5165\u624B\u673A\u53F7"})}),(0,t.jsx)(a.l0.Item,{name:"code",label:"\u9A8C\u8BC1\u7801",rules:[{required:!0,message:"\u9A8C\u8BC1\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],extra:(0,t.jsx)(a.zx,{size:"mini",disabled:_>0,onClick:function(){i()},children:l}),children:(0,t.jsx)(a.II,{placeholder:"\u8BF7\u8F93\u5165\u9A8C\u8BC1\u7801"})}),(0,t.jsx)(a.l0.Item,{name:"pwd",label:"\u5BC6\u7801",rules:[{required:!0,message:"\u5BC6\u7801\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,t.jsx)(a.II,{type:"password",placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"})}),(0,t.jsx)(a.l0.Item,{name:"checkpwd",label:"\u786E\u8BA4\u5BC6\u7801",rules:[{required:!0,message:"\u8BF7\u786E\u8BA4\u5BC6\u7801"},function(h){var O=h.getFieldValue;return{validator:function(w,T){return!T||O("pwd")===T?Promise.resolve():Promise.reject(new Error("\u4E24\u6B21\u5BC6\u7801\u4E0D\u4E00\u6837"))}}}],children:(0,t.jsx)(a.II,{type:"password",placeholder:"\u8BF7\u786E\u8BA4\u5BC6\u7801"})})]})}),(0,t.jsxs)("section",{className:"d-flex adm-space-justify-between p-x",children:[(0,t.jsx)("a",{}),(0,t.jsx)("a",{onClick:function(){f.history.back()},children:"\u8FD4\u56DE"})]})]})]})}},19515:function(M,E,u){u.d(E,{j:function(){return n}});function v(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500;return new Promise(function(s,a){setTimeout(function(){var m=Math.random()>.5;console.log("Promise:",m?"resolve":"reject"),m&&s(!0),a(!1)},b)})}var n={phone:/^(?:(?:\+|00)86)?1\d{10}$/}}}]);
