"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[909],{90194:function(D,f,u){u.d(f,{Z:function(){return c}});var v=u(15009),t=u.n(v),E=u(99289),a=u.n(E),i=u(61534),h={register:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/registration",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},getCode:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/sms/send",{method:"POST",data:{phone:e,type:"CLIENT_REGISTRATION"}}));case 1:case"end":return r.stop()}},l)}))()},login:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/login",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},currentUser:function(){return a()(t()().mark(function e(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/client/getUserInfo"));case 1:case"end":return _.stop()}},e)}))()},logout:function(){return a()(t()().mark(function e(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/client/logout",{method:"POST"}));case 1:case"end":return _.stop()}},e)}))()},changePwd:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/updatePwd",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},updateUserInfo:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/updateUserInfo",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()}},s={getUserLeague:function(){return a()(t()().mark(function e(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,i.request)("/client/core/league/getUserLeague"));case 1:case"end":return _.stop()}},e)}))()},saveOrUpdate:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/core/league/saveOrUpdate",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()}},d=u(8847),b=u(86633),n=u(66479),g={config:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/core/sheepTypeConfig/config/".concat(e.type)));case 1:case"end":return r.stop()}},l)}))()},get:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/core/sheepTypeConfig/get/".concat(e.id),{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},listPage:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/core/sheepTypeConfig/listPage",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()},list:function(e){return a()(t()().mark(function l(){return t()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,i.request)("/client/core/sheepTypeConfig/list",{method:"POST",data:e}));case 1:case"end":return r.stop()}},l)}))()}},p={img:function(e){return a()(t()().mark(function l(){var _;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,i.request)("/oss/img",{method:"POST",data:{file:e},headers:{"Content-Type":"multipart/form-data"}});case 2:return _=P.sent,P.abrupt("return",{url:_});case 4:case"end":return P.stop()}},l)}))()}},m={auth:h,league:s,sheepFoster:b.vq,sheepBuy:d.yo,sheepSlaughter:n.zL,sheepTypeConfig:g,utils:p},c=m},8847:function(D,f,u){u.d(f,{kj:function(){return n},yo:function(){return b}});var v=u(9783),t=u.n(v),E=u(15009),a=u.n(E),i=u(99289),h=u.n(i),s=u(61534),d,b={analogPayment:function(m){return h()(a()().mark(function c(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/client/core/sheepBuy/analogPayment",{params:m}));case 1:case"end":return e.stop()}},c)}))()},getMyDetail:function(m){return h()(a()().mark(function c(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/client/core/sheepBuy/buy",{method:"POST",data:m}));case 1:case"end":return e.stop()}},c)}))()},listByUserPage:function(m){return h()(a()().mark(function c(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/client/core/sheepBuy/listByUserPage",{params:m}));case 1:case"end":return e.stop()}},c)}))()}},n;(function(p){p.\u7B49\u5F85\u652F\u4ED8="WAITING_PAYMENT",p.\u7B49\u5F85\u786E\u8BA4="WAITING_CONFIRMATION",p.\u5DF2\u786E\u8BA4="CONFIRMED",p.\u5DF2\u53D6\u6D88="CANCELLED"})(n||(n={}));var g=(d={},t()(d,n.\u7B49\u5F85\u652F\u4ED8,"\u7B49\u5F85\u652F\u4ED8"),t()(d,n.\u7B49\u5F85\u786E\u8BA4,"\u7B49\u5F85\u786E\u8BA4"),t()(d,n.\u5DF2\u786E\u8BA4,"\u5DF2\u786E\u8BA4"),t()(d,n.\u5DF2\u53D6\u6D88,"\u5DF2\u53D6\u6D88"),d)},86633:function(D,f,u){u.d(f,{DY:function(){return g},Gb:function(){return n},_p:function(){return p},vq:function(){return b}});var v=u(9783),t=u.n(v),E=u(15009),a=u.n(E),i=u(99289),h=u.n(i),s=u(61534),d,b={statisticsMyNum:function(){return h()(a()().mark(function c(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/client/core/sheepFoster/statisticsMyNum",{}));case 1:case"end":return e.stop()}},c)}))()},getMyDetail:function(c){return h()(a()().mark(function o(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,s.request)("/client/core/sheepFoster/getMyDetail/".concat(c.fosterNo),{params:c}));case 1:case"end":return l.stop()}},o)}))()},listMyPage:function(c){return h()(a()().mark(function o(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,s.request)("/client/core/sheepFoster/listMyPage",{params:c}));case 1:case"end":return l.stop()}},o)}))()}},n;(function(m){m.\u80B2\u80A5\u7F8A="FATTENING_SHEEP",m.\u7E41\u80B2\u6BCD\u7F8A="BREEDING_EWES",m.\u7F8A\u7F94="LAMB"})(n||(n={}));var g=(d={},t()(d,n.\u80B2\u80A5\u7F8A,"\u80B2\u80A5\u7F8A"),t()(d,n.\u7E41\u80B2\u6BCD\u7F8A,"\u7E41\u80B2\u6BCD\u7F8A"),t()(d,n.\u7F8A\u7F94,"\u7F8A\u7F94"),d),p;(function(m){m.\u5728\u517B="IN_RAISING",m.\u5DF2\u51FA\u552E="SOLD"})(p||(p={}))},66479:function(D,f,u){u.d(f,{H3:function(){return n},zL:function(){return b}});var v=u(9783),t=u.n(v),E=u(15009),a=u.n(E),i=u(99289),h=u.n(i),s=u(61534),d,b={sell:function(m){return h()(a()().mark(function c(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/client/core/sheepSlaughter/sell",{method:"POST",data:m}));case 1:case"end":return e.stop()}},c)}))()},listMyPage:function(m){return h()(a()().mark(function c(){return a()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,s.request)("/client/core/sheepSlaughter/listMyPage",{params:m}));case 1:case"end":return e.stop()}},c)}))()}},n;(function(p){p.\u7F8A\u8089="MUTTON",p.\u94B1="MONEY"})(n||(n={}));var g=(d={},t()(d,n.\u7F8A\u8089,"\u7F8A\u8089"),t()(d,n.\u94B1,"\u94B1"),d)},38815:function(D,f,u){u.r(f),u.d(f,{default:function(){return g}});var v=u(97857),t=u.n(v),E=u(5574),a=u.n(E),i=u(90194),h=u(19515),s=u(17141),d=u(62435),b=u(61534),n=u(86074);function g(){var p=s.l0.useForm(),m=a()(p,1),c=m[0];(0,b.useRequest)(i.Z.league.getUserLeague,{cacheKey:"Services.league.getUserLeague",onSuccess:function(r){r&&c.setFieldsValue(t()(t()({},r),{},{identityFrontArr:[{url:r.identityFront}],identityReverseArr:[{url:r.identityReverse}],sitePhotoArr:r.sitePhotoList.map(function(P){return{url:P}})}))}});var o=(0,b.useRequest)(i.Z.league.saveOrUpdate,{cacheKey:"Services.league.saveOrUpdate",manual:!0,onSuccess:function(){s.FN.show({icon:"success",content:"\u4FDD\u5B58\u6210\u529F"}),b.history.back()}}),e=o.run,l=(0,d.useCallback)(function(_){var r=JSON.parse(JSON.stringify(_)),P=Object.entries(r).map(function(A){var O=a()(A,2),F=O[0],M=O[1];return F.endsWith("Arr")?[F.replace("Arr",""),M.map(function(B){return B.url}).toString()]:[F,M]});e(Object.fromEntries(P))},[e]);return(0,n.jsxs)("div",{style:{overflow:"hidden"},children:[(0,n.jsx)(b.Helmet,{children:(0,n.jsx)("title",{children:"\u7F8A\u573A\u52A0\u76DF"})}),(0,n.jsxs)(s.l0,{form:c,mode:"card",layout:"horizontal",footer:(0,n.jsx)(s.zx,{block:!0,type:"submit",color:"primary",size:"large",children:"\u4FDD\u5B58"}),onFinish:l,children:[(0,n.jsx)(s.l0.Item,{name:"sheepName",label:"\u7F8A\u573A\u540D\u79F0",rules:[{required:!0,message:"\u7F8A\u573A\u540D\u79F0\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.II,{placeholder:"\u8BF7\u8F93\u5165\u7F8A\u573A\u540D\u79F0"})}),(0,n.jsx)(s.l0.Item,{name:"maxLivestock",label:"\u6700\u5927\u5B58\u680F",rules:[{required:!0,message:"\u6700\u5927\u5B58\u680F\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.II,{placeholder:"\u8BF7\u8F93\u5165\u6700\u5927\u5B58\u680F"})}),(0,n.jsx)(s.l0.Item,{name:"nowLivestock",label:"\u73B0\u6709\u5B58\u680F",rules:[{required:!0,message:"\u73B0\u6709\u5B58\u680F\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.II,{placeholder:"\u8BF7\u8F93\u5165\u73B0\u6709\u5B58\u680F"})}),(0,n.jsx)(s.l0.Item,{name:"culturedVariety",label:"\u517B\u6B96\u54C1\u79CD",rules:[{required:!0,message:"\u517B\u6B96\u54C1\u79CD\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.II,{placeholder:"\u8BF7\u8F93\u5165\u517B\u6B96\u54C1\u79CD"})}),(0,n.jsx)(s.l0.Item,{name:"sheepFarmer",label:"\u7F8A\u573A\u8D1F\u8D23\u4EBA",rules:[{required:!0,message:"\u7F8A\u573A\u8D1F\u8D23\u4EBA\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.II,{placeholder:"\u8BF7\u8F93\u5165\u7F8A\u573A\u8D1F\u8D23\u4EBA"})}),(0,n.jsx)(s.l0.Item,{name:"linkPhone",label:"\u8054\u7CFB\u7535\u8BDD",rules:[{required:!0,message:"\u8054\u7CFB\u7535\u8BDD\u4E0D\u80FD\u4E3A\u7A7A"},{pattern:h.j.phone,message:"\u7535\u8BDD\u683C\u5F0F\u4E0D\u6B63\u786E"}],children:(0,n.jsx)(s.II,{placeholder:"\u8BF7\u8F93\u5165\u8054\u7CFB\u7535\u8BDD"})}),(0,n.jsx)(s.l0.Item,{name:"sheepAddress",label:"\u7F8A\u573A\u5730\u5740",rules:[{required:!0,message:"\u7F8A\u573A\u5730\u5740\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.Kx,{placeholder:"\u8BF7\u8F93\u5165\u7F8A\u573A\u5730\u5740",rows:3})}),(0,n.jsx)(s.l0.Item,{name:"identityFrontArr",label:"\u8EAB\u4EFD\u8BC1\u6B63\u9762",rules:[{required:!0,message:"\u8EAB\u4EFD\u8BC1\u6B63\u9762\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.wA,{upload:i.Z.utils.img,maxCount:1})}),(0,n.jsx)(s.l0.Item,{name:"identityReverseArr",label:"\u8EAB\u4EFD\u8BC1\u53CD\u9762",rules:[{required:!0,message:"\u8EAB\u4EFD\u8BC1\u53CD\u9762\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.wA,{upload:i.Z.utils.img,maxCount:1})}),(0,n.jsx)(s.l0.Item,{name:"sitePhotoArr",label:"\u573A\u5730\u7167\u7247",rules:[{required:!0,message:"\u573A\u5730\u7167\u7247\u4E0D\u80FD\u4E3A\u7A7A"}],children:(0,n.jsx)(s.wA,{upload:i.Z.utils.img,maxCount:9})})]})]})}},19515:function(D,f,u){u.d(f,{j:function(){return t}});function v(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1500;return new Promise(function(a,i){setTimeout(function(){var h=Math.random()>.5;console.log("Promise:",h?"resolve":"reject"),h&&a(!0),i(!1)},E)})}var t={phone:/^(?:(?:\+|00)86)?1\d{10}$/}}}]);
