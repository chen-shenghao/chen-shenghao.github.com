"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[866],{90194:function(A,j,s){s.d(j,{Z:function(){return d}});var F=s(15009),t=s.n(F),M=s(99289),a=s.n(M),h=s(61534),f={register:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/registration",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()},getCode:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/sms/send",{method:"POST",data:{phone:r,type:"CLIENT_REGISTRATION"}}));case 1:case"end":return n.stop()}},l)}))()},login:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/login",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()},currentUser:function(){return a()(t()().mark(function r(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,h.request)("/client/getUserInfo"));case 1:case"end":return _.stop()}},r)}))()},logout:function(){return a()(t()().mark(function r(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,h.request)("/client/logout",{method:"POST"}));case 1:case"end":return _.stop()}},r)}))()},changePwd:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/updatePwd",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()},updateUserInfo:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/updateUserInfo",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()}},b={getUserLeague:function(){return a()(t()().mark(function r(){return t()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,h.request)("/client/core/league/getUserLeague"));case 1:case"end":return _.stop()}},r)}))()},saveOrUpdate:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/core/league/saveOrUpdate",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()}},m=s(8847),v=s(86633),i=s(66479),g={config:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/core/sheepTypeConfig/config/".concat(r.type)));case 1:case"end":return n.stop()}},l)}))()},get:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/core/sheepTypeConfig/get/".concat(r.id),{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()},listPage:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/core/sheepTypeConfig/listPage",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()},list:function(r){return a()(t()().mark(function l(){return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,h.request)("/client/core/sheepTypeConfig/list",{method:"POST",data:r}));case 1:case"end":return n.stop()}},l)}))()}},u={img:function(r){return a()(t()().mark(function l(){var _;return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,h.request)("/oss/img",{method:"POST",data:{file:r},headers:{"Content-Type":"multipart/form-data"}});case 2:return _=P.sent,P.abrupt("return",{url:_});case 4:case"end":return P.stop()}},l)}))()}},o={auth:f,league:b,sheepFoster:v.vq,sheepBuy:m.yo,sheepSlaughter:i.zL,sheepTypeConfig:g,utils:u},d=o},8847:function(A,j,s){s.d(j,{kj:function(){return i},yo:function(){return v}});var F=s(9783),t=s.n(F),M=s(15009),a=s.n(M),h=s(99289),f=s.n(h),b=s(61534),m,v={analogPayment:function(o){return f()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,b.request)("/client/core/sheepBuy/analogPayment",{params:o}));case 1:case"end":return r.stop()}},d)}))()},getMyDetail:function(o){return f()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,b.request)("/client/core/sheepBuy/buy",{method:"POST",data:o}));case 1:case"end":return r.stop()}},d)}))()},listByUserPage:function(o){return f()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,b.request)("/client/core/sheepBuy/listByUserPage",{params:o}));case 1:case"end":return r.stop()}},d)}))()}},i;(function(u){u.\u7B49\u5F85\u652F\u4ED8="WAITING_PAYMENT",u.\u7B49\u5F85\u786E\u8BA4="WAITING_CONFIRMATION",u.\u5DF2\u786E\u8BA4="CONFIRMED",u.\u5DF2\u53D6\u6D88="CANCELLED"})(i||(i={}));var g=(m={},t()(m,i.\u7B49\u5F85\u652F\u4ED8,"\u7B49\u5F85\u652F\u4ED8"),t()(m,i.\u7B49\u5F85\u786E\u8BA4,"\u7B49\u5F85\u786E\u8BA4"),t()(m,i.\u5DF2\u786E\u8BA4,"\u5DF2\u786E\u8BA4"),t()(m,i.\u5DF2\u53D6\u6D88,"\u5DF2\u53D6\u6D88"),m)},86633:function(A,j,s){s.d(j,{DY:function(){return g},Gb:function(){return i},_p:function(){return u},vq:function(){return v}});var F=s(9783),t=s.n(F),M=s(15009),a=s.n(M),h=s(99289),f=s.n(h),b=s(61534),m,v={statisticsMyNum:function(){return f()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,b.request)("/client/core/sheepFoster/statisticsMyNum",{}));case 1:case"end":return r.stop()}},d)}))()},getMyDetail:function(d){return f()(a()().mark(function e(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,b.request)("/client/core/sheepFoster/getMyDetail/".concat(d.fosterNo),{params:d}));case 1:case"end":return l.stop()}},e)}))()},listMyPage:function(d){return f()(a()().mark(function e(){return a()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,b.request)("/client/core/sheepFoster/listMyPage",{params:d}));case 1:case"end":return l.stop()}},e)}))()}},i;(function(o){o.\u80B2\u80A5\u7F8A="FATTENING_SHEEP",o.\u7E41\u80B2\u6BCD\u7F8A="BREEDING_EWES",o.\u7F8A\u7F94="LAMB"})(i||(i={}));var g=(m={},t()(m,i.\u80B2\u80A5\u7F8A,"\u80B2\u80A5\u7F8A"),t()(m,i.\u7E41\u80B2\u6BCD\u7F8A,"\u7E41\u80B2\u6BCD\u7F8A"),t()(m,i.\u7F8A\u7F94,"\u7F8A\u7F94"),m),u;(function(o){o.\u5728\u517B="IN_RAISING",o.\u5DF2\u51FA\u552E="SOLD"})(u||(u={}))},66479:function(A,j,s){s.d(j,{H3:function(){return i},zL:function(){return v}});var F=s(9783),t=s.n(F),M=s(15009),a=s.n(M),h=s(99289),f=s.n(h),b=s(61534),m,v={sell:function(o){return f()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,b.request)("/client/core/sheepSlaughter/sell",{method:"POST",data:o}));case 1:case"end":return r.stop()}},d)}))()},listMyPage:function(o){return f()(a()().mark(function d(){return a()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",(0,b.request)("/client/core/sheepSlaughter/listMyPage",{params:o}));case 1:case"end":return r.stop()}},d)}))()}},i;(function(u){u.\u7F8A\u8089="MUTTON",u.\u94B1="MONEY"})(i||(i={}));var g=(m={},t()(m,i.\u7F8A\u8089,"\u7F8A\u8089"),t()(m,i.\u94B1,"\u94B1"),m)},37025:function(A,j,s){s.r(j),s.d(j,{default:function(){return l}});var F=s(19632),t=s.n(F),M=s(15009),a=s.n(M),h=s(99289),f=s.n(h),b=s(5574),m=s.n(b),v=s(90194),i=s(86633),g=s(66479),u=s(17141),o=s(62435),d=s(61534),e=s(86074),r=function(n){var P=n.num,E=n.label;return(0,e.jsxs)(u.rj.Item,{children:[(0,e.jsx)("p",{children:(0,e.jsxs)("b",{children:[P,"\u53EA"]})}),(0,e.jsx)("div",{children:E})]})};function l(){var _=(0,o.useRef)(1),n=u.l0.useForm(),P=m()(n,1),E=P[0],K=(0,o.useState)(!1),R=m()(K,2),B=R[0],x=R[1],G=(0,o.useState)(!0),U=m()(G,2),$=U[0],L=U[1],k=(0,o.useState)(),N=m()(k,2),T=N[0],S=N[1],V=(0,o.useState)(i.Gb.\u80B2\u80A5\u7F8A),W=m()(V,2),I=W[0],H=W[1],Z=(0,d.useRequest)(v.Z.sheepFoster.statisticsMyNum,{cacheKey:"Services.sheepFoster.statisticsMyNum"}),D=Z.data,Y=(0,o.useCallback)(function(){E.resetFields(),u.u_.confirm({title:"\u4E70\u7F8A",destroyOnClose:!1,forceRender:!0,content:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)(u.l0,{form:E,onValuesChange:function(p){if(p.sheepType===i.Gb.\u80B2\u80A5\u7F8A&&E.setFieldsValue({buyPrice:"1000"}),p.sheepType===i.Gb.\u7E41\u80B2\u6BCD\u7F8A&&E.setFieldsValue({buyPrice:"2000"}),E.getFieldValue("buyNum")&&E.getFieldValue("buyPrice"))try{E.setFieldsValue({buyTotalPrice:+E.getFieldValue("buyNum")*+E.getFieldValue("buyPrice")})}catch(O){console.log(O),E.setFieldsValue({buyNum:void 0})}},children:[(0,e.jsx)(u.l0.Item,{name:"sheepType",label:"\u7F8A\u7C7B\u578B",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u603B\u989D"}],children:(0,e.jsxs)(u.Y8.Group,{children:[(0,e.jsx)(u.Y8,{style:{marginRight:6},value:i.Gb.\u80B2\u80A5\u7F8A,children:"\u80B2\u80A5\u7F8A\uFF08\uFFE51000/\u53EA\uFF09"}),(0,e.jsx)(u.Y8,{value:i.Gb.\u7E41\u80B2\u6BCD\u7F8A,children:"\u7E41\u80B2\u6BCD\u7F8A\uFF08\uFFE52000/\u53EA\uFF09"})]})}),(0,e.jsx)(u.l0.Item,{hidden:!0,name:"buyPrice",label:"\u5355\u4EF7",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u5355\u4EF7"}],children:(0,e.jsx)(u.II,{type:"number",placeholder:"\u8BF7\u8F93\u5165\u5355\u4EF7"})}),(0,e.jsx)(u.l0.Item,{name:"buyNum",label:"\u8D2D\u5165\u6570\u91CF",rules:[{required:!0,message:"\u8BF7\u8F93\u5165\u6570\u91CF"}],children:(0,e.jsx)(u.II,{type:"number",inputMode:"numeric",placeholder:"\u8BF7\u8F93\u5165\u6570\u91CF"})}),(0,e.jsx)(u.l0.Item,{name:"buyTotalPrice",label:"\u603B\u989D\uFF08\u5143\uFF09",children:(0,e.jsx)(u.II,{type:"number",readOnly:!0,placeholder:"\u5F85\u8BA1\u7B97"})})]})}),confirmText:"\u786E\u8BA4",onConfirm:function(){var c=f()(a()().mark(function O(){var y;return a()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,E.validateFields();case 2:return y=C.sent,C.next=5,v.Z.sheepBuy.getMyDetail(y);case 5:u.FN.show({icon:"success",content:"\u63D0\u4EA4\u6210\u529F"});case 6:case"end":return C.stop()}},O)}));function p(){return c.apply(this,arguments)}return p}()})},[E]),z=(0,o.useCallback)(f()(a()().mark(function c(){var p;return a()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,v.Z.sheepFoster.listMyPage({page:_.current,sheepType:I});case 2:p=y.sent,_.current++,S([].concat(t()(p.data.list),t()(T||[]))),L(p.data.current<p.data.totalPage);case 6:case"end":return y.stop()}},c)})),[I,T]),Q=(0,o.useCallback)(function(c){console.log("record",c),c.sheepType===i.Gb.\u80B2\u80A5\u7F8A?u.u_.show({title:"\u9009\u62E9\u51FA\u552E\u65B9\u5F0F",showCloseButton:!0,closeOnAction:!0,actions:[{key:"money",text:"\u8981\u94B1",onClick:function(){d.history.push("/sell/".concat(c.fosterNo,"/").concat(g.H3.\u94B1))}},{key:"meat",text:"\u8981\u8089",onClick:function(){d.history.push("/sell/".concat(c.fosterNo,"/").concat(g.H3.\u7F8A\u8089))}}]}):d.history.push("/sell/".concat(c.fosterNo,"/").concat(g.H3.\u94B1))},[]),w=(0,o.useMemo)(function(){return B?T==null?void 0:T.filter(function(c){return c.status===i._p.\u5728\u517B}):T},[B,T]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(d.Helmet,{children:(0,e.jsx)("title",{children:"\u9996\u9875"})}),(0,e.jsxs)("div",{className:"p-x p-y",children:[(0,e.jsx)("section",{children:(0,e.jsx)(u.Zb,{className:"text-center",children:(0,e.jsxs)(u.rj,{columns:3,children:[(0,e.jsx)(r,{num:D==null?void 0:D.FATTENING_SHEEP,label:"\u80B2\u80A5\u7F8A"}),(0,e.jsx)(r,{num:D==null?void 0:D.BREEDING_EWES,label:"\u7E41\u80B2\u6BCD\u7F8A"}),(0,e.jsx)(r,{num:D==null?void 0:D.LAMB,label:"\u7F94\u7F8A"})]})})}),(0,e.jsx)("section",{className:"m-t",children:(0,e.jsxs)(u.rj,{columns:2,gap:16,children:[(0,e.jsx)(u.rj.Item,{children:(0,e.jsx)(u.Zb,{onClick:function(){return d.history.push("/intro")},children:(0,e.jsx)(u.T,{children:(0,e.jsx)("div",{children:"\u8BA4\u517B\u89C4\u5219"})})})}),(0,e.jsx)(u.rj.Item,{children:(0,e.jsx)(u.Zb,{onClick:function(){return d.history.push("/join")},children:(0,e.jsx)(u.T,{children:(0,e.jsx)("div",{children:"\u7F8A\u573A\u52A0\u76DF"})})})})]})}),(0,e.jsx)("section",{className:"m-t",children:(0,e.jsxs)(u.rj,{columns:4,children:[(0,e.jsx)(u.rj.Item,{span:3,children:(0,e.jsx)(u.mQ,{activeKey:I,onChange:function(p){_.current=1,S([].concat()),L(!0),H(p)},stretch:!1,style:{"--title-font-size":"13px"},children:Object.entries(i.DY).map(function(c){var p=m()(c,2),O=p[0],y=p[1];return(0,e.jsx)(u.mQ.Tab,{title:y},O)})})}),(0,e.jsxs)(u.rj.Item,{span:1,className:"d-flex items-center",style:{justifyContent:"flex-end"},children:[(0,e.jsx)(u.XZ,{checked:B,onChange:x}),(0,e.jsx)("span",{style:{marginLeft:6},children:"\u53EA\u770B\u5728\u517B"})]})]})}),(0,e.jsx)("section",{children:(0,e.jsx)("ul",{children:w==null?void 0:w.map(function(c){return(0,e.jsx)("li",{className:"m-t",children:(0,e.jsxs)(u.Zb,{title:(0,e.jsx)("div",{children:c.earLabel}),extra:(0,e.jsx)(e.Fragment,{children:c.outDay>0?(0,e.jsxs)("b",{className:"text-warning",children:["\u636E\u51FA\u680F",c.outDay,"\u5929"]}):(0,e.jsx)("b",{className:"text-success",children:"\u53EF\u51FA\u680F"})}),onClick:function(){d.history.push("/detail/".concat(c.fosterNo))},children:[(0,e.jsx)("div",{children:(0,e.jsxs)(u.T,{children:[(0,e.jsx)(u.Vp,{fill:"outline",color:"primary",children:c.sheepVarietyName}),typeof c.parityNum=="number"&&(0,e.jsxs)(u.Vp,{fill:"outline",color:"primary",children:[c.parityNum,"\u80CE"]})]})}),(0,e.jsx)(u.iz,{}),(0,e.jsxs)(u.T,{justify:"between",className:"w-full",children:[c.outDay<=0&&c.status===i._p.\u5728\u517B?(0,e.jsx)("a",{onClick:function(O){O.stopPropagation(),Q(c)},children:"\u51FA\u552E"}):(0,e.jsx)("span",{children:c.statusCn}),(0,e.jsx)("span",{children:"\u6444\u50CF\u5934"})]})]})},c.fosterNo)})})}),(0,e.jsx)(u.v_,{style:{paddingBottom:56},loadMore:z,hasMore:$}),(0,e.jsx)("footer",{className:"p-x",style:{position:"absolute",bottom:66,left:0,width:"100%",boxSizing:"border-box"},children:(0,e.jsx)(u.zx,{color:"primary",block:!0,onClick:function(){Y()},children:"\u4E70\u7F8A"})})]})]})}}}]);
